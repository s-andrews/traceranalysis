<html>
  <head>
    <link rel="stylesheet" type="text/css" href="tracer.css">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-75225835-1', 'auto');
      ga('send', 'pageview');

    </script>
    <title>FluxFix</title>
  </head>
  <body>
    <h2>FluxFix: Isotopologue Analysis Tool <span class="version">v0.1</span></h2>

    <form id="tracerForm" method="post">
      <div class="averages">
        <p>Data from tracer experiments using isotope labeled metabolites (eg <sup>13</sup>C glucose) must be normalized to natural isotopologue distribution. This tool will quickly and reliably transform raw mass spec AUC values into the percent representation of each isotopologue measured.<p>
        
        <p><strong>Interested in batch processing?</strong> See the instructions in the <a href="https://github.com/sophietrefely/traceranalysis">github readme</a></p>

        <h4> 1. Enter unlabeled data (or upload file)</h4>

        <p>Copy unlabeled data for your chosen metabolite from your spreadsheet and paste into the box below.<p>

        <ul>
            <li>Data should be entered as tab-separated values with each row on a new line.</li>
            <li>Paste in NUMERICAL VALUES ONLY.</li>
            <li>Do not paste in the column and row headers.</li>
        </ul>
         <p class="size-field" id="unlabeledDataSize">Waiting for data...</p>
        <textarea name="unlabeledData" id="unlabeledData" rows="10" cols="110" placeholder="Type, paste, or upload your unlabeled data here as tab-separated values"></textarea>
        <input type="file" name="unlabeledTsv" id="unlabeledTsv" value="Upload unlabeled TSV">
      </div>

        <h4>2. Enter your full data set (or upload file)</h4>
         

      <div class="data">
        <p>Copy the data for your chosen metabolite from your spreadsheet and paste into the box below.</p>
        <ul>
            <li>Use the same format as you did for unlabeled data</li>
            <li>Make sure the number of columns is consistent with the unlabeled data</li>
        </ul>
        <p class="size-field" id="labeledDataSize">Waiting for data...</p>
        <textarea name="labeledData" id="labeledData" rows="10" cols="110" placeholder="Type, paste or upload your tab-separated data here as a matrix"></textarea>
        <input type="file" name="labeledTsv" id="labeledTsv" value="Upload labeled TSV">
      </div>
      </div>

    </form>


    <h4>3. Compute results</h4>
      <p>Click the button to compute the results.</p>
      <p>
        <button id="computePercentages" class="compute">Compute Percentages</button>
        <button id="downloadTsv" class="compute">Compute and Download CSV</button>
    </p>
    </p>
        <textarea name="results" id="results" rows="10" cols="110" placeholder="Your results will appear here"></textarea>

     <h4>Important notes on data formatting</h4>
     <p>Data should be organised into separate columns for each isotopologue measured and separate rows for each replicate sample.</p>

  <p>The unlabeled data is used for normalisation. It is recommended that you normalise to control data from samples that did not contain an isotope label. If you do not have unlabeled data, you can use theoretical isotopologue distribution values for normalisation. These values can be derived for specific metabolites using software tools such as XcaliburQuan (Thermo).<p>

  </body>

  <script   src="https://code.jquery.com/jquery-2.2.1.js"   integrity="sha256-eNcUzO3jsv0XlJLveFEkbB8bA7/CroNpNVk3XpmnwHc="   crossorigin="anonymous"></script>
  <script type="text/javascript" src="tracer.js"></script>
</html>
